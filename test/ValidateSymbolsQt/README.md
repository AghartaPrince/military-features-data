# ValidateSymbolsQt

This is a validation/test application that may be used to verify the Military Features Data repository. 

![Image of Military Features Data](ScreenShot.jpg)

## Features

This is a command line application that may be used to 

* Create exported 2525 or APP6 symbol image files using the ArcGIS Runtime for Qt
* Export all symbol images from the ArcGIS Runtime symbol dictionary file
* Automatically compare those created images to existing validated images
* Create a list and folder of images that fail to match

## Sections

* [Requirements](#requirements)
* [Instructions](#instructions)
* [Issues](#issues)
* [Resources](#resources)
* [Contributing](#contributing)
* [Licensing](#licensing)

## Requirements

* ArcGIS Runtime SDK for Qt 10.2.2 (or later) 
* The [Qt Software Developer Kit](http://qt.digia.com/) with Qt Creator
    * Hardware and software (including Qt SDK version) requirements are the same as those for ArcGIS Runtime SDK for Qt.  See the [Runtime SDK documentation for more information](https://developers.arcgis.com/en/qt/).
* [Optional] Apache Ant - used to download and extract dependent data files (you may also do this manually if you do not wish to install ant)

## Instructions

### Building

* Check your development environment is properly configured for the ArcGIS Runtime SDK for Qt; some items of note:
    * Ensure the configuration file, ex. `esri_runtime_qt_10_2_2.prf` has been installed
        * Copied from` {ARCGISRUNTIMESDKQT}\sdk\ideintegration\esri_runtime_qt_10_2_2.prf to {QTDIR}\mkspecs\features\esri_runtime_qt_10_2_2.prf` 
    * (Linux only) Initialize runtime. From a Command Prompt:
        * (Bash) `. {RuntimeSDKHome}/init_sdk_qt64.sh`   -or- 
        * (csh) `source {RuntimeSDKHome}/init_sdk_qt64.csh` 
    * For more detailed information on Runtime for Qt setup, see the [ArcGIS Runtime for Qt post-install setup steps](https://developers.arcgis.com/qt/guide/integration-with-qt-creator.htm)
* Open and build the project `ValidateSymbolsQt`  in Qt Creator
    * Note: if you using a different version of the Runtime SDK, you may need to edit the .pro file for the project
    * Change the line `CONFIG += esri_runtime_qt_10_2_2` to match the version of your Runtime SDK.

### Verifying Your Run Configuration

* Download the data dependencies
    * These are the validated 2525C and APP6 image files/folders that have been shared as ArcGIS Online zip items:
        * [`VALIDATED_IMAGES_2525C`](http://www.arcgis.com/sharing/rest/content/items/6e35554cfcde44a88ede4e75428591bf/data) - [see Resources](#resources)
        * [`VALIDATED_IMAGES_APP6B`](http://www.arcgis.com/sharing/rest/content/items/1381455d98cb4fa0b0280e93aedf1cf9/data) - [see Resources](#resources)
        * If you have *Apache Ant* installed, you may also just run the script that comes with this folder (build.xml) to download and unzip the data. From a command prompt `ant`
* Place the folders downloaded above in the same folder/level as the built executable ValidateSymbols.exe and check the folder structure:
    * ValidateSymbols.exe
        * `VALIDATED_IMAGES_2525` (subfolder with .pngs)
        * `VALIDATED_IMAGES_APP6` (subfolder with .pngs)
* The application uses/creates the following folders:
    * `VALIDATED_IMAGES_XXXX` - (Required Input Folder) - the validated images folders for each standard *must exist* and contain the images to be used for comparison. These are
        * `VALIDATED_IMAGES_2525` -and/or- 
        * `VALIDATED_IMAGES_APP6`
    * `GENERATED_IMAGES` - (Output Folder) - images generated by the current Runtime/Dictionary (folder created by the app)
    * `MISMATCHED_IMAGES` - (Output Folder) - the set of images that failed to be matched (folder created by the app)
* Verify that you are able to run Qt and ArcGIS Runtime applications from the command line:
    * To check that the Qt SDK is available: `qmake -version`
    * And check the following are in your system %PATH%:
        *  `%QTDIR%\bin` (and %QTDIR% is set to the location of the Qt SDK)
        *  `%ARCGISRUNTIMESDKQt_10_2_2%\arcgisruntime10.2.2\client64`

### Running

* Open a command prompt, `cd {path-to-Validate-Symbols-executable}`
* From the command line, run the application with the desired parameters, e.g. 
    * `ValidateSymbols.exe VALIDATE 2525 ALL`
        *  This will export all 2525 images and validate them against the images in the folder `VALIDATED_IMAGES_2525`
        *  If you wish to capture the command-line output for later analysis add the following to the command above:
            * (Windows) ` > ValidationOutput.txt 2>&1`  
            * (Linux) `&> ValidationOutput.txt`
            *  (Windows Full Example) `ValidateSymbols.exe VALIDATE 2525 ALL > ValidationOutput.txt 2>&1` (Windows)
*  The available command-line parameters include
    * Parameter 1 : Command
        * GENERATE - only generates the images to the `GENERATED_IMAGES_FOLDER` (Default)
        * VALIDATE - does GENERATE & then validates these against images in `VALIDATED_IMAGES_FOLDER`
        * VALIDATE_ONLY - validation only (doesn't do GENERATE step)
    * Parameter 2 : Standard
        * 2525 (Default)
        * APP6
    * Parameter 3 : Filter
        * ALL - do for all found in the dictionary
        * FILE - do for all from a supplied file (see Parameter 4)
        * SymbolId - do for a single Id supplied (Default)
    * Parameter 4 : FileName (Optional)
        * FileName - a supplied csv file name, SymbolId must be 1st entry in each comma-delimited list, lines with "#" will be skipped
* After running, check the  command-line output and the `MISMATCHED_IMAGES` folder for image exports that failed to match their corresponding images in  `VALIDATED_IMAGES_XXXX`
    * For each mismatched image, there will be 2 files:
        * ImageFileID.png - the exported image that failed to match
        * ImageFileID_VALIDATED.png - the "truth" image copied from the Validated Images folder (to use for visual comparison)

### Pre-built Application

To assist those who may not want to build from source using Qt/ArcGIS Runtime, a pre-built version of the [ValidateSymbols application is available at ArcGIS Online.](http://www.arcgis.com/sharing/rest/content/items/adb90ed67b2a4aa6adfa13766fa9bc99/data). 

Some important notes/caveats with this pre-built executable:

* This is just a snapshot of the application for demonstration purposes and will not contain the most up-to-date software or source data.
    * You may be able to update this deployment to the latest source and validation data by replacing\updating the following to their latest versions:
        * The  `VALIDATED_IMAGES_XXXX` folders ([see Resources](#resources)). 
        * The symbol dictionary files (mil2525c.dat, app6b.dat)
    * However, keep in mind that this deployment may not have the latest Runtime image-export software. 
* This deployment is for Windows (tested on 7) x64 architecture only.

## Resources

* Current Set of Validated Images for 
    * [MIL-STD-2525C](http://www.arcgis.com/home/item.html?id=6e35554cfcde44a88ede4e75428591bf)
    * [APP-6B](http://www.arcgis.com/home/item.html?id=1381455d98cb4fa0b0280e93aedf1cf9)
* [ValidateSymbols Windows x64 Deployment](http://www.arcgis.com/home/item.html?id=adb90ed67b2a4aa6adfa13766fa9bc99) (Pre-built Application Snapshot)

## Issues

Find a bug or want to request a new feature?  Please let us know by submitting an issue. 

## Contributing

Esri welcomes contributions from anyone and everyone. Please see our [guidelines for contributing](https://github.com/esri/contributing).

## Licensing

Copyright 2014 Esri

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

A copy of the license is available in the repository's license.txt file.

[](Esri Tags: ArcGIS Defense and Intelligence Military Feature Military Features 2525 APP6)
[](Esri Language: C++)
